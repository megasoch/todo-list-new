<div class="container">
    <h2>
        <span class="label label-default">TODO:List Tasks</span>
    </h2>

    <h2>
        <span class="label label-primary">{{currentUser}}</span>
        <button class="btn btn-default" ng-click="logout()">Log out</button>
    </h2>

    <div class="panel">
        <div class="input-group">
            <input class="form-control" ng-model="courseName">
	                    <span class="input-group-btn">
	                        <button class="btn btn-primary" ng-click="addTask(courseName)">Add new task</button>
	                    </span>
        </div>

        <table class="table table-hover">
            <thead>
            <p>

            <h2>
                <span class="label label-info">In progress</span>
                <span class="label label-default">{{tasks.length}}</span>
            </h2></p>
            </thead>
            <tbody>
            <tr ng-repeat="task in tasks track by $index">
                <div>
                    <td>
                        <div ng-hide="updated[$index]">
                            {{task.title}}
                        </div>
                        <div ng-show="updated[$index]">
                            <input type="text" class="form-control" ng-model="updatedText[$index]">
                        </div>
                    </td>
                    <td class="text-right">
                        <div class="btn-group" role="group" aria-label="...">
                            <button type="button" class="btn btn-success" ng-click="doneTask(task, $index)"
                                    ng-hide="updated[$index]">Done
                            </button>
                            <button type="button" class="btn btn-warning" ng-click="editTask($index)"
                                    ng-hide="updated[$index]">Edit
                            </button>
                            <button type="button" class="btn btn-danger" ng-click="removeTask(task, $index)"
                                    ng-hide="updated[$index]">Delete
                            </button>
                            <button type="button" class="btn btn-success" ng-click="updateTask(task, updatedText[$index], $index)"
                                    ng-show="updated[$index]">Save
                            </button>
                            <button type="button" class="btn btn-warning" ng-click="cancelEdit($index)"
                                    ng-show="updated[$index]">Cancel
                            </button>
                        </div>
                    </td>
                </div>
            </tr>
            </tbody>
        </table>

        <table class="table table-hover">
            <thead>
            <p>

            <h2>
                <span class="label label-success">Done</span>
                <span class="label label-default">{{doneTasks.length}}</span>
            </h2></p>
            </thead>
            <tbody>
            <tr ng-repeat="done in doneTasks track by $index">
                <td>{{done.title}}</td>
                <td class="text-right">
                    <div class="btn-group" role="group" aria-label="...">
                        <button type="button" class="btn btn-primary" ng-click="revertDone(done)">Revert</button>
                        <button type="button" class="btn btn-danger" ng-click="removeDone(done)">Delete</button>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>